<div class="steper-wrapper">
  <mat-stepper labelPosition="bottom" #stepper>
    <ng-template matStepperIcon="number" class="step-icon"> </ng-template>
    <mat-step>
      <ng-template matStepLabel>Início</ng-template>
    </mat-step>

    <mat-step>
      <ng-template matStepLabel>Documentos</ng-template>
    </mat-step>

    <mat-step>
      <ng-template matStepLabel>Dados cadastrais</ng-template>
    </mat-step>

    <mat-step>
      <ng-template matStepLabel>Admissão</ng-template>
    </mat-step>
  </mat-stepper>
</div>

<section class="content-wrapper">
  <h2 class="section-title">Informe o CPF do futuro cooperado (a)</h2>
  <div class="hint-text-wrapper">
    <p class="hint-text">
      Se necessário, voce poderá duplicar uma conta existente ou pausar e
      retomar este cadastro futuramente.
    </p>
    <p class="hint-text">Digite apenas os números (sem pontos ou traços).</p>
  </div>

  <div class="input-wrapper">
    <label for="cpf"
      >CPF
      <input
        [formControl]="searchValue"
        mask="000.000.000-00"
        class="input-search"
        type="text"
        name="cpf"
        placeholder="000.000.000-00"
        required
      />
    </label>
    <button
      (click)="onSearch()"
      mat-button
      mat-flat-button
      [disabled]="!searchValue.valid || searchValue.value === oldValue"
    >
      <span *ngIf="loading$ | async as loading; else content">
        <div class="loading">
          <img src="/assets/images/spinner.gif" alt="loading content" />
        </div>
      </span>
      <ng-template #content> Consultar por CPF </ng-template>
    </button>
  </div>
  <section class="search-content">
    <div *ngIf="cooperative" class="cooperative-card">
      <h3 class="card-title">Situacao cadastral do CPF</h3>
      <h4 class="card-subtitle">Consulta na Receita Federal</h4>

      <div class="cooperative-info-wrapper cooperative-name">
        <mat-icon class="icon-person">person</mat-icon>
        <div class="cooperative-info">
          <span class="info-label">Nome</span>
          <span>{{ cooperative.nome }}</span>
        </div>
      </div>

      <div class="cooperative-info-wrapper cooperative-situation">
        <mat-icon class="icon-check">check_circle</mat-icon>
        <div class="cooperative-info">
          <span class="info-label">Situacao do CPF</span>
          <span>{{ cooperative.situacao }}</span>
        </div>
      </div>
    </div>
  </section>
</section>
